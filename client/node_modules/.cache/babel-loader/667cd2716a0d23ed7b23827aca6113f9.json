{"ast":null,"code":"var _jsxFileName = \"/Users/flatironschool/Desktop/DanAndByronsAwsomeProjects/postfukup/crypto-portfolio-/client/src/Components/Coins/cryptoCoinList.js\";\nimport React from \"react\";\nimport CryptoCoin from \"./cryptoCoin\";\nimport CryptoSearch from \"./cryptoSearch\";\nimport \"./crypto.css\";\n\nclass CryptoCoinList extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      cryptos: [],\n      allCryptos: [],\n      searchTerm: \"\",\n      searchResults: []\n    };\n\n    this.onChange = e => {\n      e.preventDefault();\n      this.setState({\n        searchTerm: e.target.value\n      });\n      this.filtered(this.state.searchTerm);\n    };\n\n    this.filtered = async searchTerm => {\n      const filter = await this.state.allCryptos.filter(coin => {\n        return coin.CoinName.toLowerCase().includes(searchTerm.toLowerCase());\n      });\n      this.setState({\n        searchResults: [...this.state.searchResults, filter]\n      });\n      console.log(this.state.searchResults);\n    };\n  }\n\n  async componentDidMount() {\n    const request = await fetch(\"https://min-api.cryptocompare.com/data/top/totalvolfull?limit=10&tsym=GBP\");\n    const response = await request.json();\n    this.setState({\n      cryptos: Object.values(response.Data)\n    });\n    const allrequest = await fetch(\"https://min-api.cryptocompare.com/data/all/coinlist\");\n    const allresponse = await allrequest.json();\n    this.setState({\n      allCryptos: Object.values(allresponse.Data)\n    });\n    console.log(this.state.allCryptos);\n    console.log(this.state.searchResults);\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"search-coin\",\n      placeholder: \"Search...\",\n      onChange: this.onChange,\n      value: this.state.searchTerm,\n      type: \"text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }), this.state.searchResults.length === 0 ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, \"Trending Coins\"), React.createElement(\"div\", {\n      className: \"flex\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, this.state.cryptos.slice(0, 9).map(item => {\n      return React.createElement(CryptoCoin, {\n        cryptos: item,\n        key: item.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      });\n    }))) : React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, \"Search results\"), React.createElement(\"div\", {\n      className: \"flex\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, this.state.searchResults.pop().slice(0, 9).map(item => {\n      return React.createElement(CryptoSearch, {\n        searchResults: item,\n        key: item.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      });\n    })), React.createElement(\"button\", {\n      onClick: () => this.setState({\n        searchResults: [],\n        searchTerm: \"\"\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, \" \", \"Reset Search\", \" \")));\n  }\n\n}\n\nexport default CryptoCoinList;","map":{"version":3,"sources":["/Users/flatironschool/Desktop/DanAndByronsAwsomeProjects/postfukup/crypto-portfolio-/client/src/Components/Coins/cryptoCoinList.js"],"names":["React","CryptoCoin","CryptoSearch","CryptoCoinList","Component","state","cryptos","allCryptos","searchTerm","searchResults","onChange","e","preventDefault","setState","target","value","filtered","filter","coin","CoinName","toLowerCase","includes","console","log","componentDidMount","request","fetch","response","json","Object","values","Data","allrequest","allresponse","render","length","slice","map","item","id","pop"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport CryptoCoin from \"./cryptoCoin\";\nimport CryptoSearch from \"./cryptoSearch\";\nimport \"./crypto.css\";\n\nclass CryptoCoinList extends React.Component {\n  state = {\n    cryptos: [],\n    allCryptos: [],\n    searchTerm: \"\",\n    searchResults: []\n  };\n  async componentDidMount() {\n    const request = await fetch(\n      \"https://min-api.cryptocompare.com/data/top/totalvolfull?limit=10&tsym=GBP\"\n    );\n    const response = await request.json();\n    this.setState({\n      cryptos: Object.values(response.Data)\n    });\n    const allrequest = await fetch(\n      \"https://min-api.cryptocompare.com/data/all/coinlist\"\n    );\n    const allresponse = await allrequest.json();\n\n    this.setState({\n      allCryptos: Object.values(allresponse.Data)\n    });\n    console.log(this.state.allCryptos);\n    console.log(this.state.searchResults);\n  }\n\n  onChange = e => {\n    e.preventDefault();\n    this.setState({\n      searchTerm: e.target.value\n    });\n    this.filtered(this.state.searchTerm);\n  };\n\n  filtered = async searchTerm => {\n    const filter = await this.state.allCryptos.filter(coin => {\n      return coin.CoinName.toLowerCase().includes(searchTerm.toLowerCase());\n    });\n    this.setState({\n      searchResults: [...this.state.searchResults, filter]\n    });\n    console.log(this.state.searchResults);\n  };\n\n  render() {\n    return (\n      <div>\n        <input \n          className =\"search-coin\"\n          placeholder=\"Search...\"\n          onChange={this.onChange}\n          value={this.state.searchTerm}\n          type=\"text\"\n        ></input>\n        {this.state.searchResults.length === 0 ? (\n          <div>\n            <h2>Trending Coins</h2>\n            <div className=\"flex\">\n              {this.state.cryptos.slice(0, 9).map(item => {\n                return <CryptoCoin cryptos={item} key={item.id} />;\n              })}\n            </div>\n          </div>\n        ) : (\n          <div>\n            <h2>Search results</h2>\n            <div className=\"flex\">\n              {this.state.searchResults.pop().slice(0, 9).map(item => {\n                return (\n                  <CryptoSearch searchResults={item} key={item.id} />\n                );\n              })}\n            </div>\n            <button\n              onClick={() =>\n                this.setState({\n                  searchResults: [],\n                  searchTerm: \"\"\n                })\n              }\n            >\n              {\" \"}\n              Reset Search{\" \"}\n            </button>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default CryptoCoinList;\n"]},"metadata":{},"sourceType":"module"}